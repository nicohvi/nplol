(function(){$(function(){var t,n;return t=$("#listing"),t.packery({itemSelector:".post",gutter:20,isHorizontal:!0}),$(".post").on("click",function(){var t;return t=$(this).data("post-id"),$.ajax("/posts/"+t).done(function(i){return n(i),history.pushState({value:"value"},null,"/posts/"+t),initiateTransition("article")}).fail(function(){return console.log("Loading post failed.")})}),n=function(t){return $("#article").html(t)}})}).call(this);