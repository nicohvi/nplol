(function(){$(function(){var n;return $(".post-type").on("change",function(){var n,t;return $.ajax({url:$(this).data("formPath"),type:"post",data:{post_type:$(this).val()}}).done(function(n){return t(n)}).fail(function(){return n()}),t=function(n){return $("#post-form").html(n)},n=function(){return console.log("Failed to load post form.")}}),$(".add-asset").on("ajax:success",function(t,a){return n(a),addListenersToAssetForm()}),n=function(n){return dim(!0),$(".dim").append(n)},$(".arrow").on("ajax:beforeSend",function(){return $("#main").addClass("transition")}),$(".arrow").on("ajax:success",function(n,t){var a;return changeView(t),a="/posts/"+$(this).data("id"),history.pushState({url:a},null,a)}),$("#main").on(" webkitTransitionEnd",function(n){return $(this).hasClass("transition")||n.target!==this?!1:$(".arrow").fadeIn("fast")}),$("#main").hasClass("transition")?void 0:$(".arrow").fadeIn("fast")})}).call(this);