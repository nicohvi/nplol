(function(){$(function(){var t,n;return $(".post-type").on("change",function(){var t,n;return $.ajax({url:$(this).data("formPath"),type:"post",data:{post_type:$(this).val()}}).done(function(t){return n(t)}).fail(function(){return t()}),n=function(t){return $("#post-form").html(t)},t=function(){return console.log("Failed to load post form.")}}),$(".add-asset").on("ajax:success",function(n,a){return t(a),addListenersToAssetForm()}),t=function(t){return dim(!0),$(".dim").append(t)},$(".arrow").on("ajax:beforeSend",function(){return $("#main").addClass("transition")}),$(".arrow").on("ajax:success",function(t,n){var a;return changeView(n),a="/posts/"+$(this).data("id"),history.pushState({url:a},null,a)}),$("#main").on(" webkitTransitionEnd",function(t){return $(this).hasClass("transition")||t.target!==this?!1:$(".arrow").fadeIn("fast")}),$("#main").hasClass("transition")||$(".arrow").fadeIn("fast"),n=function(){var t;return t=$("#post"),$("#next").css("margin-left",""+parseInt(t.attr("width"))/2+"px")},n()})}).call(this);